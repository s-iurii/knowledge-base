
# CAP

–í CAP –≥–æ–≤–æ—Ä–∏—Ç—Å—è, —á—Ç–æ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 –∏–∑ 3-—Ö —Å–≤–æ–π—Å—Ç–≤:

- C (consistency) ‚Äî —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å. –ö–∞–∂–¥–æ–µ —á—Ç–µ–Ω–∏–µ –¥–∞—Å—Ç –≤–∞–º —Å–∞–º—É—é –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–ø–∏—Å—å.
- A (availability) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å. –ö–∞–∂–¥—ã–π —É–∑–µ–ª (–Ω–µ —É–ø–∞–≤—à–∏–π) –≤—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã (–Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å).
- P (partition tolerance) ‚Äî —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é. –î–∞–∂–µ –µ—Å–ª–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ –Ω–µ—Ç —Å–≤—è–∑–∏, –æ–Ω–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

–£–∂–µ –µ—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–≥–ª—è–¥–Ω—ã—Ö –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤ —ç—Ç–æ–π —Ç–µ–æ—Ä–µ–º—ã, –ø–æ—ç—Ç–æ–º—É –¥–∞–º —Å—Å—ã–ª–∫–∏ –Ω–∞

[–í—Å—ë, —á—Ç–æ –≤—ã –Ω–µ –∑–Ω–∞–ª–∏ –æ CAP —Ç–µ–æ—Ä–µ–º–µ](https://habr.com/ru/post/328792/)

[CAP-—Ç–µ–æ—Ä–µ–º–∞ –ø—Ä–æ—Å—Ç—ã–º, –¥–æ—Å—Ç—É–ø–Ω—ã–º —è–∑—ã–∫–æ–º](https://habr.com/ru/post/130577/)


###  Postgresql

  
–°–ª–µ–¥—É—é—â–∏–µ –ø—É–Ω–∫—Ç—ã –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –ë–î Postgresql.  
  

- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è Master-Slave ‚Äî –æ–¥–Ω–æ –∏–∑ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Master –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º / —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ
- –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤—É—Ö—Ñ–∞–∑–Ω—ã–π –∫–æ–º–º–∏—Ç –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è consistency
- –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç partition, –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–æ–≤–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–æ–π (–≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–ª—É—á–∞–µ)

  
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –≤ —Å–ª—É—á–∞–µ partition, –Ω–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç strong consistency –∏ availability. –≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ CA!  
  

###  MongoDB

  
–°–ª–µ–¥—É—é—â–∏–µ –ø—É–Ω–∫—Ç—ã –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –ë–î MongoDB.  
  

- MongoDB –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç strong consistency, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Å –æ–¥–Ω–∏–º Master —É–∑–ª–æ–º, –∏ –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∏–¥—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –Ω–µ–≥–æ.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–º–µ–Ω–∞ –º–∞—Å—Ç–µ—Ä–∞, –≤ —Å–ª—É—á–∞–µ –æ—Ç–¥–µ–ª–µ–Ω–∏—è –µ–≥–æ –æ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —É–∑–ª–æ–≤.
- –í —Å–ª—É—á–∞–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–µ—Ç–∏, —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø–∏—Å–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ —É–±–µ–¥–∏—Ç—Å—è, —á—Ç–æ –º–æ–∂–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –∏—Ö.

  
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –≤ —Å–ª—É—á–∞–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–µ—Ç–∏, –Ω–æ —Ç–µ—Ä—è–µ—Ç—Å—è CAP-availability –≤—Å–µ—Ö —É–∑–ª–æ–≤. –≠—Ç–æ CP —Å–∏—Å—Ç–µ–º–∞!  
  

###  Cassandra

  
Cassandra –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ö–µ–º—É —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ master-master, —á—Ç–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–∑–Ω–∞—á–∞–µ—Ç AP —Å–∏—Å—Ç–µ–º—É, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ç–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –≤—Å–µ—Ö —É–∑–ª–æ–≤.  
  
–ö–∞–∑–∞–ª–æ—Å—å –±—ã –≤—Å—ë –ø—Ä–æ—Å—Ç–æ‚Ä¶ –ù–æ —ç—Ç–æ –Ω–µ —Ç–∞–∫.

# PACELC

PACELC ‚Äî —ç—Ç–æ —Ç–µ–æ—Ä–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞—Å—à–∏—Ä—è–µ—Ç –∏ —É—Ç–æ—á–Ω—è–µ—Ç –∏–∑–≤–µ—Å—Ç–Ω—É—é –º–æ–¥–µ–ª—å **CAP**, –¥–æ–±–∞–≤–ª—è—è –≤ –Ω–µ–µ –Ω–æ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏. –û–Ω–∞ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É **–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é** (availability), **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é** (consistency) –∏ **–∑–∞–¥–µ—Ä–∂–∫–∞–º–∏** (latency) –≤ —Ä–∞–∑–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö.

### –¢–µ–æ—Ä–∏—è PACELC —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è —Ç–∞–∫:

- **PA** ‚Äî –ö–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ (Partitioned), –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Ç—å –º–µ–∂–¥—É **Consistency** (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é) –∏ **Availability** (–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é).
- **EL** ‚Äî –ö–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ (Else), –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Ç—å –º–µ–∂–¥—É **Latency** (–∑–∞–¥–µ—Ä–∂–∫–æ–π) –∏ **Consistency** (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é).

### –û–±—ä—è—Å–Ω–µ–Ω–∏–µ PACELC:

1. **P (Partition tolerance)** ‚Äî –í —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –≤—Å–µ–≥–¥–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è, –∫–æ–≥–¥–∞ —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Ä—è—é—Ç —Å–≤—è–∑—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º. –≠—Ç–æ —É—Å–ª–æ–≤–∏–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–æ—Ä–∏—é CAP, –∫–æ—Ç–æ—Ä–∞—è —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Ç—å –ª–∏–±–æ **–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** (—Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã), –ª–∏–±–æ **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (–≤—Å–µ —É–∑–ª—ã –±—É–¥—É—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ), –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ.
    
2. **EL (Else latency-consistency)** ‚Äî –ö–æ–≥–¥–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–µ—Ç, —Ç–æ –≤—Å—Ç–∞–µ—Ç –¥—Ä—É–≥–æ–π –≤–æ–ø—Ä–æ—Å: –∫–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å? –ó–¥–µ—Å—å —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Ç—å –º–µ–∂–¥—É –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–µ–π –∑–∞–¥–µ—Ä–∂–∫–∏ (–≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å) –∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ–º —Å—Ç—Ä–æ–≥–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö.
    

### –ü—Ä–∏–º–µ—Ä –≤—ã–±–æ—Ä–∞ –≤ PACELC:

- –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç **PA** (Availability during partition) –∏ **EL** (Low latency), —Ç–æ –æ–Ω–∞ –º–æ–∂–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤ —Å–ª—É—á–∞–µ —Å–µ—Ç–µ–≤—ã—Ö —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π, –∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—Ä–æ–±–ª–µ–º ‚Äî –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É, –≤–æ–∑–º–æ–∂–Ω–æ, –∂–µ—Ä—Ç–≤—É—è —Å—Ç—Ä–æ–≥–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö.
    
- –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –µ—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç **PC** (Consistency during partition) –∏ **EC** (Consistency otherwise), —Ç–æ –æ–Ω–∞ –±—É–¥–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –≤ —Å–ª—É—á–∞–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π, —Ç–∞–∫ –∏ –≤ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ, –Ω–æ —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∑–∞–¥–µ—Ä–∂–∫–∞–º –≤ –æ—Ç–≤–µ—Ç–∞—Ö –∏ —É—Ö—É–¥—à–µ–Ω–∏—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤ —Å–ª—É—á–∞–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π.
    

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:

PACELC –ø–æ–º–æ–≥–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞–º –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã –ø—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º. –ù–∞–ø—Ä–∏–º–µ—Ä:

- **Amazon DynamoDB** –≤—ã–±–∏—Ä–∞–µ—Ç –º–æ–¥–µ–ª—å PA/EL, —Ç.–µ. —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å, –Ω–æ –≤ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö —Å—Ç—Ä–µ–º–∏—Ç—Å—è –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏.
- **Google Spanner** –±–æ–ª—å—à–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –º–æ–¥–µ–ª—å PC/EC, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–≥—É—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, –∂–µ—Ä—Ç–≤—É—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –∏ –≤—Ä–µ–º–µ–Ω–µ–º –æ—Ç–∫–ª–∏–∫–∞ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.


# [[üëì ACID]]
# [[üß• BASE]]