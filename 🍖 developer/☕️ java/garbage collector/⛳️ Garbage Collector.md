[[‚òïÔ∏è Java]]

## —Å—Å—ã–ª–∫–∏
https://java-online.ru/garbage-collection.xhtml
JVM Garbage Collectors
https://www.baeldung.com/jvm-garbage-collectors
Understanding Java Garbage Collection
https://medium.com/platform-engineer/understanding-java-garbage-collection-54fc9230659a
Java Garbage Collection Algorithms [till Java 9]
https://howtodoinjava.com/java/garbage-collection/all-garbage-collection-algorithms/
–î—é–∫, –≤—ã–Ω–µ—Å–∏ –º—É—Å–æ—Ä! ‚Äî 3. CMS –∏ G1
https://habr.com/ru/articles/269863/

## tools
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ GC
https://plugins.jetbrains.com/plugin/14557-jdk-visualgc
![[Screenshot 2024-08-31 at 22.50.35.png]]
## **GC list**

JVM has four types of¬†_GC_¬†implementations:

- Serial Garbage Collector
- Parallel Garbage Collector
- CMS Garbage Collector (—É—Å—Ç–∞—Ä–µ–ª –≤ 9 –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å 14)
- G1 Garbage Collector [[ü•Ö G1 GC]]
- Z Garbage Collector [[‚õπÔ∏è‚Äç‚ôÇÔ∏è Z GC]]

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ GC

### –ö—Ä–∞—Ç–∫–æ –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø–∞–º—è—Ç–∏ –≤ JVM

#### –ö—É—á–∞ (Heap)

–ö—É—á–∞ - —ç—Ç–æ –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ JVM, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã Java –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º–∏ –¥–∞–Ω–Ω—ã–µ. –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ –∫—É—á–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.

–ö—É—á–∞ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–∫–æ–ª–µ–Ω–∏–π –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞:

**–ú–æ–ª–æ–¥–æ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ (Young Generation):**¬†–°—é–¥–∞ –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤–Ω–æ–≤—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã. –≠—Ç–æ –ø–æ–∫–æ–ª–µ–Ω–∏–µ –¥–∞–ª–µ–µ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –æ–±–ª–∞—Å—Ç–∏: Eden Space –∏ –¥–≤–µ Survivor Spaces (S0 –∏ S1).

**–°—Ç–∞—Ä–æ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ (Old Generation):**¬†–°–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–≥–æ –∂–∏–≤—É—Ç. –û–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è —Å—é–¥–∞ –∏–∑ –º–æ–ª–æ–¥–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã–∂–∏–≤–∞—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–∏–∫–ª–æ–≤ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞.

**–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ (PermGen, –¥–æ Java 8):**¬†–•—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ —Å—Ç—Ä–æ–∫ –¥–æ Java 8.

–†–∞–∑–º–µ—Ä –∫—É—á–∏ –∏ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É –µ—ë —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –æ–±–ª–∞—Å—Ç—è–º–∏ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ JVM, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

#### –°—Ç–µ–∫ (Stack)

–ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –≤ Java –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–µ–∫, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–∑–æ–≤–∞—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –°—Ç–µ–∫ —É—Å—Ç—Ä–æ–µ–Ω –ø–æ¬†[–ø—Ä–∏–Ω—Ü–∏–ø—É LIFO](https://ru.wikipedia.org/wiki/LIFO)¬†(last-in, first-out) –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –º–µ—Ç–æ–¥–æ–≤ –∏ –∏—Ö –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.

–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Ñ—Ä–µ–π–º —Å—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞ —Ñ—Ä–µ–π–º —Å—Ç–µ–∫–∞ —É–¥–∞–ª—è–µ—Ç—Å—è, –æ—Å–≤–æ–±–æ–∂–¥–∞—è –ø–∞–º—è—Ç—å.

–†–∞–∑–º–µ—Ä —Å—Ç–µ–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ JVM. –ï—Å–ª–∏ —Å—Ç–µ–∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω (–æ–±—ã—á–Ω–æ –∏–∑-–∑–∞ –≥–ª—É–±–æ–∫–æ–π –∏–ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏), JVM –≤—ã–±—Ä–æ—Å–∏—Ç¬†[–∏—Å–∫–ª—é—á–µ–Ω–∏–µ](https://stackoverflow.com/questions/3197708/what-causes-a-java-lang-stackoverflowerror)¬†`java.lang.StackOverflowError`.

#### Metaspace (–∑–∞–º–µ–Ω–∞ PermGen –≤ Java 8 –∏ –≤—ã—à–µ)

Metaspace –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç PermGen, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —É–¥–∞–ª–µ–Ω –≤ Java 8. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç PermGen, Metaspace —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫¬†`OutOfMemoryError`, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∫–ª–∞—Å—Å–æ–≤.

–•–æ—Ç—è Metaspace —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –µ–≥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≤—Å–µ —Ä–∞–≤–Ω–æ –º–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ JVM, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏ –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

–ö–æ–≥–¥–∞ –≤ Java —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, JVM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–µ–ª—è–µ—Ç –¥–ª—è –Ω–µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–º—è—Ç–∏ –≤ –∫—É—á–µ (heap). –†–∞–∑–º–µ—Ä –ø–∞–º—è—Ç–∏, –≤—ã–¥–µ–ª—è–µ–º—ã–π –ø–æ–¥ –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –µ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π: –∫–∞–∫–∏–µ –ø–æ–ª—è –æ–Ω –∏–º–µ–µ—Ç, –∫–∞–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

–ü–æ–∫–∞ –æ–±—ä–µ–∫—Ç –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–Ω–∞ –Ω–µ–≥–æ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ), –æ–Ω –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏. –û–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö –ø–∞–º—è—Ç–∏ –∫—É—á–∏, —Ç–∞–∫–∏—Ö –∫–∞–∫¬†_Young Generation_,¬†_Old Generation_, –∏¬†_PermGen_¬†(–≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö JVM) –∏–ª–∏¬†_Metaspace_¬†(–≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö).

Garbage Collector (GC) —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –≤ –ø–∞–º—è—Ç–∏ –±–æ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –ø—É—Ç–µ–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å—Å—ã–ª–æ–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã. –û–±—ä–µ–∫—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è "–º—É—Å–æ—Ä–æ–º", –µ—Å–ª–∏ –Ω–∞ –Ω–µ–≥–æ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Å—ã–ª–æ–∫.

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–π, GC –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å, –∑–∞–Ω–∏–º–∞–µ–º—É—é —ç—Ç–∏–º –æ–±—ä–µ–∫—Ç–æ–º. –≠—Ç–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –∏ –¥–µ–ª–∞–µ—Ç –ø–∞–º—è—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–ª—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

–ü–æ–º–∏–º–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏, GC —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—É—Ç–µ–º —Å–∂–∞—Ç–∏—è –æ—Å—Ç–∞–≤—à–µ–π—Å—è –∫—É—á–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏.

–•–æ—Ç—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ, –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –µ–≥–æ —Ä–∞–±–æ—Ç—ã –≤–∞–∂–Ω–æ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∏–∑–±–µ–≥–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∑–∞–¥–µ—Ä–∂–∫–∏ –∏–∑-–∑–∞ –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞. –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —á—Ä–µ–∑–º–µ—Ä–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –Ω–∞ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞, —á—Ç–æ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ–±—ä–µ–∫—Ç–∞

–ö–æ–≥–¥–∞ –≤ Java —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä¬†`new`), JVM –≤—ã–¥–µ–ª—è–µ—Ç –¥–ª—è –Ω–µ–≥–æ –ø–∞–º—è—Ç—å –≤ –∫—É—á–µ (heap). –†–∞–∑–º–µ—Ä –≤—ã–¥–µ–ª—è–µ–º–æ–π –ø–∞–º—è—Ç–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–∞, –≤–∫–ª—é—á–∞—è –µ–≥–æ –ø–æ–ª—è –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã.

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω–∞ –æ–±—ä–µ–∫—Ç —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –∏–∑ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç–µ–π –∫–æ–¥–∞.

–û–±—ã—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ Java —è–≤–ª—è—é—Ç—Å—è —Å–∏–ª—å–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏. –ü–æ–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Å–∏–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞, –æ–Ω –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏.

–ü—Ä–∏–º–µ—Ä:¬†`MyClass myObject = new MyClass();`

Java —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–∞–±—ã—Ö (`WeakReference`) –∏ –º—è–≥–∫–∏—Ö (`SoftReference`) —Å—Å—ã–ª–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç GC —É–¥–∞–ª—è—Ç—å –æ–±—ä–µ–∫—Ç—ã, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.

–ï—Å–ª–∏ –≤—Å–µ —Å–∏–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç –æ–±–Ω—É–ª–µ–Ω—ã –∏–ª–∏ –≤—ã—Ö–æ–¥—è—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, –æ–±—ä–µ–∫—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä:¬†`myObject = null;`

–ö–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–ª–æ–∫–∞ –∫–æ–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ —ç—Ç–æ–º –±–ª–æ–∫–µ –∏ –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏, —Ç–∞–∫–∂–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º–∏.

GC –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞–º—è—Ç—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã (–Ω–µ –∏–º–µ—é—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫. –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–ª–∏ –≤—Ä—É—á–Ω—É—é (—á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤¬†`System.gc()`, —Ö–æ—Ç—è –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è).

–ü–æ—Å–ª–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ GC –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å, –∑–∞–Ω–∏–º–∞–µ–º—É—é —ç—Ç–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, –¥–µ–ª–∞—è –µ—ë –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–ª—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

_–†–∞–∑–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã GC —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É, –∏ –∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –†–∞–∑–º–µ—Ä—ã –æ–±–ª–∞—Å—Ç–µ–π –ø–∞–º—è—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Young –∏ Old Generations) –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã JVM —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ —á–∞—Å—Ç–æ—Ç—É –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã GC._

### –ì–µ–Ω–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏–º–µ—é—Ç –∫–æ—Ä–æ—Ç–∫–∏–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª. –û–Ω–∏ –±—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —Ç–∞–∫–∂–µ –±—ã—Å—Ç—Ä–æ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–∏–ª–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è).

–î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤, JVM –¥–µ–ª–∏—Ç –∫—É—á—É (heap) –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ "–ø–æ–∫–æ–ª–µ–Ω–∏–π" –∏–ª–∏ –æ–±–ª–∞—Å—Ç–µ–π:

**Young Generation:**

–ó–¥–µ—Å—å —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤–Ω–æ–≤—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã. Young Generation –¥–∞–ª–µ–µ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ —Ç—Ä–∏ —á–∞—Å—Ç–∏: Eden Space –∏ –¥–≤–µ Survivor Spaces (S0 –∏ S1). –ü–æ—Å–∫–æ–ª—å–∫—É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ Young Generation –±—ã—Å—Ç—Ä–æ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è "–º—É—Å–æ—Ä–æ–º", GC (Minor GC) —á–∞—Å—Ç–æ –∏ –±—ã—Å—Ç—Ä–æ –æ—á–∏—â–∞–µ—Ç —ç—Ç—É –æ–±–ª–∞—Å—Ç—å.

**Old Generation:**

–û–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∂–∏–ª–∏ –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ü–∏–∫–ª–æ–≤ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ –≤ Young Generation, –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ Old Generation. –ó–¥–µ—Å—å –æ–±—ä–µ–∫—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≥–æ—Ä–∞–∑–¥–æ –¥–æ–ª—å—à–µ, –∏ –æ—á–∏—Å—Ç–∫–∞ —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏ (Major GC) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–∂–µ, –Ω–æ –æ–Ω–∞ –±–æ–ª–µ–µ —Ç—Ä—É–¥–æ—ë–º–∫–∞.

**Permanent Generation –∏–ª–∏ Metaspace:**

–í —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–æ–≤ –∏ –¥—Ä—É–≥–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í –±–æ–ª–µ–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Java (–Ω–∞—á–∏–Ω–∞—è —Å Java 8) PermGen –±—ã–ª –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ Metaspace, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–µ–º–Ω–æ–≥–æ –∏–Ω–∞—á–µ –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –∫—É—á–µ.

### –†–∞–±–æ—Ç–∞ GC —Å –ø–æ–∫–æ–ª–µ–Ω–∏—è–º–∏

**Minor GC:**

Young Generation –≤ JVM –¥–µ–ª–∏—Ç—Å—è –Ω–∞ —Ç—Ä–∏ —á–∞—Å—Ç–∏: –æ–¥–Ω—É –æ–±–ª–∞—Å—Ç—å Eden –∏ –¥–≤–µ Survivor –æ–±–ª–∞—Å—Ç–∏ (S0 –∏ S1). –ù–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ Eden. –ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è Eden, Minor GC –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç—Å—è.

Minor GC –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö –∂–∏–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ Eden –∏ –≤ –æ–¥–Ω–æ–π –∏–∑ Survivor –æ–±–ª–∞—Å—Ç–µ–π (–∫–æ—Ç–æ—Ä–∞—è –∞–∫—Ç–∏–≤–Ω–∞ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç). –ñ–∏–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∏–∑ Eden –∏ –∞–∫—Ç–∏–≤–Ω–æ–π Survivor –æ–±–ª–∞—Å—Ç–∏ –≤ –¥—Ä—É–≥—É—é Survivor –æ–±–ª–∞—Å—Ç—å. –í–æ –≤—Ä–µ–º—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, Eden –∏ –∞–∫—Ç–∏–≤–Ω–∞—è Survivor –æ–±–ª–∞—Å—Ç—å –æ—á–∏—â–∞—é—Ç—Å—è.

–û–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∂–∏–≤–∞—é—Ç –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ü–∏–∫–ª–æ–≤ Minor GC, –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –∏–∑ –æ–±–ª–∞—Å—Ç–∏ Survivor –≤ Old Generation. –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "—Å—Ç–∞—Ä–µ–Ω–∏–µ–º" –æ–±—ä–µ–∫—Ç–æ–≤.

Minor GC –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–∞—Å—Ç–æ –∏ –æ–±—ã—á–Ω–æ –∑–∞–Ω–∏–º–∞–µ—Ç –Ω–µ–±–æ–ª—å—à–æ–µ –≤—Ä–µ–º—è, —Ç–∞–∫ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –æ–±–ª–∞—Å—Ç—è–º–∏ –ø–∞–º—è—Ç–∏. –ü–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –∫–æ–ø–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã, –∞ –Ω–µ —É–¥–∞–ª—è–µ—Ç –∏—Ö –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ, —ç—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—é –ø–∞–º—è—Ç–∏.

**Major GC –∏–ª–∏ Full GC:**

Old Generation –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –≠—Ç–∞ –æ–±–ª–∞—Å—Ç—å –±–æ–ª—å—à–µ –ø–æ —Ä–∞–∑–º–µ—Ä—É –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å Young Generation.

Major GC –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∂–∏–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ Old Generation. –í—Å–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Minor GC, —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—é –ø–∞–º—è—Ç–∏.

–ñ–∏–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

Major GC –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–µ–∂–µ, –Ω–æ —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ —Ç—Ä—É–¥–æ–µ–º–∫–∏–º, —Ç–∞–∫ –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–æ–ª—å—à–∏–π –æ–±—ä–µ–º –ø–∞–º—è—Ç–∏. –í–æ –≤—Ä–µ–º—è Major GC, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å –±–æ–ª–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—É–∑—ã, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ Stop-The-World –ø—Ä–æ—Ü–µ—Å—Å, –≥–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.

## –¢–∏–ø—ã GC –≤ JVM

### Serial Garbage Collector

Serial GC —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ –≤—Å–µ –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è (Stop-The-World –ø–∞—É–∑–∞). –≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –±–∞–∑–æ–≤—ã–π —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –≤ JVM, –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞.

–ö–æ–≥–¥–∞ Serial GC –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞, –æ–Ω –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞.

Serial GC –Ω–∞—á–∏–Ω–∞–µ—Ç —Å –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –≤ –∫—É—á–µ –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã. –û–Ω –æ–±—Ö–æ–¥–∏—Ç –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –Ω–∞–±–æ—Ä–∞ ([root set](https://www.ibm.com/docs/en/ztpf/2020?topic=collector-root-set)), –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –∏ —Ç.–¥., –º–∞—Ä–∫–∏—Ä—É—è –∫–∞–∂–¥—ã–π –¥–æ—Å—Ç–∏–∂–∏–º—ã–π –æ–±—ä–µ–∫—Ç.

–ü–æ—Å–ª–µ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ GC —É–¥–∞–ª—è–µ—Ç –≤—Å–µ –Ω–µ–º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –æ—Å–≤–æ–±–æ–∂–¥–∞—è –∑–∞–Ω–∏–º–∞–µ–º—É—é –∏–º–∏ –ø–∞–º—è—Ç—å. –≠—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è¬†_–æ—á–∏—Å—Ç–∫–æ–π_.

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –≤ –∫—É—á–µ –º–Ω–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏, Serial GC –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ. –≠—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –≤ —Ö–æ–¥–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –±–ª–æ–∫, —á—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—é –ø–∞–º—è—Ç–∏ –∏ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥—É—é—â–µ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.

–ù–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Å–≤–æ—é –ø—Ä–æ—Å—Ç–æ—Ç—É –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Å—Ä–µ–¥–∞—Ö —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏, SGC –∏–º–µ–µ—Ç —Ä—è–¥ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤.

Stop-The-World –ø–∞—É–∑—ã –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏—á–Ω—ã–º–∏ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö –≤—ã—Å–æ–∫–æ–π –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏ –∏–ª–∏ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö –∏–ª–∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å.

### Parallel Garbage Collector (Throughput Collector)

Parallel GC –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á GC, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å - –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç–æ –µ—Å—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞ –µ–¥–∏–Ω–∏—Ü—É –≤—Ä–µ–º–µ–Ω–∏.

–ö–∞–∫ –∏ Serial GC, Parallel GC —Ç–∞–∫–∂–µ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç Stop-The-World –ø–∞—É–∑—ã. –í–æ –≤—Ä–µ–º—è —ç—Ç–∏—Ö –ø–∞—É–∑ –≤—Å–µ –ø–æ—Ç–æ–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á GC.

–í —ç—Ç–æ–π —Ñ–∞–∑–µ GC –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –≤—Å–µ –∂–∏–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ –∫—É—á–µ. –≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –ø—É—Ç—ë–º –æ–±—Ö–æ–¥–∞ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞—á–∏–Ω–∞—è —Å –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –Ω–∞–±–æ—Ä–∞ (–∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏). –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ö–æ–¥–∞ –∏ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ "–∂–∏–≤—ã–µ" –æ–±—ä–µ–∫—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã, GC —É–¥–∞–ª—è–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, —Ç–µ–º —Å–∞–º—ã–º –æ—Å–≤–æ–±–æ–∂–¥–∞—è –ø–∞–º—è—Ç—å. –≠—Ç–∞ —Ñ–∞–∑–∞ —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞.

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏. –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∂–∏–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∏ –∑–∞–Ω–∏–º–∞–ª–∏ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –±–ª–æ–∫ –ø–∞–º—è—Ç–∏. –£–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ —É–ª—É—á—à–∞–µ—Ç –ø–æ—Å–ª–µ–¥—É—é—â–µ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏, –Ω–æ –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å –≤—Ä–µ–º—è –ø–∞—É–∑—ã GC.

PGC –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –¥–æ–±–∏—Ç—å—Å—è —É–ª—É—á—à–µ–Ω–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö –∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö. –ù–æ –Ω–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω—ã –±–æ–ª–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ Stop-The-World –ø–∞—É–∑—ã –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–±–æ—Ä—â–∏–∫–∞–º–∏ –º—É—Å–æ—Ä–∞.

–†–µ–∑—é–º–∏—Ä—É—è - –Ω–µ –≤—Å–µ–≥–¥–∞ –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≥–¥–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞.

### Concurrent Mark-Sweep (CMS) Collector

CMS —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–æ–ª—å—à–µ–π —á–∞—Å—Ç–∏ —Å–≤–æ–∏—Ö –∑–∞–¥–∞—á –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å —Ä–∞–±–æ—Ç–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø–∞—É–∑—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å GC. –†–∞–±–æ—Ç–∞ CMS –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–∑—ã: —Ñ–∞–∑—É –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ (Marking Phase) –∏ —Ñ–∞–∑—É –æ—á–∏—Å—Ç–∫–∏ (Sweeping Phase).

**–§–∞–∑–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ (Initial Mark):**

–≠—Ç–æ –∫–æ—Ä–æ—Ç–∫–∞—è Stop-The-World –ø–∞—É–∑–∞, –≤–æ –≤—Ä–µ–º—è –∫–æ—Ç–æ—Ä–æ–π CMS –º–∞—Ä–∫–∏—Ä—É–µ—Ç –∫–æ—Ä–Ω–µ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã, —Ç–æ –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑ –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ç.–¥. –≠—Ç–∞ —Ñ–∞–∑–∞ –±—ã—Å—Ç—Ä–∞, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è —Ñ–∞–∑–∞ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ (Concurrent Marking):**

–í —ç—Ç–æ–π —Ñ–∞–∑–µ, CMS –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏, –æ–±—Ö–æ–¥—è –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã, –¥–æ—Å—Ç–∏–∂–∏–º—ã–µ –∏–∑ –∫–æ—Ä–Ω–µ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –≠—Ç–∞ —Ä–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í–æ –≤—Ä–µ–º—è —ç—Ç–æ–π —Ñ–∞–∑—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, —á—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –≤–ª–∏—è–Ω–∏–µ GC –Ω–∞ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–§–∞–∑–∞ –ø–µ—Ä–µ–º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ (Remark):**

–≠—Ç–æ –µ—â—ë –æ–¥–Ω–∞ –∫–æ—Ä–æ—Ç–∫–∞—è Stop-The-World –ø–∞—É–∑–∞, –≤–æ –≤—Ä–µ–º—è –∫–æ—Ç–æ—Ä–æ–π CMS –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Å–¥–µ–ª–∞–Ω–Ω—ã–µ –≤ –∫—É—á–µ –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ —Ñ–∞–∑—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏. –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º "—Å–Ω–∏–º–∫–∞" (Snapshot-At-The-Beginning), –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∏–µ –≤ –∫—É—á–µ —Å –º–æ–º–µ–Ω—Ç–∞ –Ω–∞—á–∞–ª–∞ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏.

**–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è —Ñ–∞–∑–∞ –æ—á–∏—Å—Ç–∫–∏ (Concurrent Sweeping):**

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏, CMS —É–¥–∞–ª—è–µ—Ç –Ω–µ–º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –∞ –∑–Ω–∞—á–∏—Ç, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã. –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ç–∞–∫–∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø–∞–º—è—Ç—å, –∑–∞–Ω–∏–º–∞–µ–º–∞—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.

CMS –æ–±—ã—á–Ω–æ –≤—ã–±–∏—Ä–∞—é—Ç –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –≥–¥–µ –≤–∞–∂–Ω–µ–µ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏, —á–µ–º –º–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏. –û–¥–Ω–∞–∫–æ, —Å–ª–µ–¥—É–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–µ–π –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### G1 Garbage Collector

G1 (Garbage-First) Garbage Collecto –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ CMS –∏–ª–∏ Parallel GC, —Å–≤–æ–µ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.

G1 GC —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∫—É—á—É –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ–±–æ–ª—å—à–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π (—Ä–µ–≥–∏–æ–Ω–æ–≤), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–æ–ª–µ–µ –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞–º—è—Ç—å—é. –≠—Ç–∏ —Ä–µ–≥–∏–æ–Ω—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤, –≤–∫–ª—é—á–∞—è¬†_Eden_,¬†_Survivor_, –∏¬†_Old_. G1 GC –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä—É–µ—Ç —Å–±–æ—Ä–∫—É –º—É—Å–æ—Ä–∞ –≤ —Ç–µ—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö, –≥–¥–µ —ç—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –æ–±—ä–µ–º–µ –º—É—Å–æ—Ä–∞ –∏ –∑–∞—Ç—Ä–∞—Ç–∞—Ö –Ω–∞ –µ–≥–æ –æ—á–∏—Å—Ç–∫—É.

–ö–∞–∫ –∏ –≤ CMS, G1 –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∫–æ—Ä–æ—Ç–∫–æ–π Stop-The-World –ø–∞—É–∑—ã –¥–ª—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ –∫–æ—Ä–Ω–µ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –∏ —Ç.–¥.

G1 –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏, –æ–±—Ö–æ–¥—è –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–∑ –∫–æ—Ä–Ω–µ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í —ç—Ç–æ –≤—Ä–µ–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, —á—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –≤–ª–∏—è–Ω–∏–µ GC –Ω–∞ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞.

–î–∞–ª–µ–µ –∏–¥–µ—Ç —Ñ–∞–∑–∞¬†_Final Mark,_¬†–≤–∫–ª—é—á–∞–µ—Ç –µ—â–µ –æ–¥–Ω—É –∫–æ—Ä–æ—Ç–∫—É—é Stop-The-World –ø–∞—É–∑—É, –≤–æ –≤—Ä–µ–º—è –∫–æ—Ç–æ—Ä–æ–π G1 –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏. –í —ç—Ç—É —Ñ–∞–∑—É –≤–∫–ª—é—á–∞–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏–∑–æ—à–ª–∏ –≤ –∫—É—á–µ —Å –º–æ–º–µ–Ω—Ç–∞ –Ω–∞—á–∞–ª–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏.

–í –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ñ–∞–∑–µ (—Å–±–æ—Ä–∫–µ –º—É—Å–æ—Ä–∞) G1 —Å–æ–±–∏—Ä–∞–µ—Ç –º—É—Å–æ—Ä –∏–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤. –≠—Ç–æ –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∂–∏–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞ –≤ –¥—Ä—É–≥–æ–π. –≠—Ç–∞ —Ñ–∞–∑–∞ —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è Stop-The-World –ø–∞—É–∑–æ–π, –Ω–æ –µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞ –∏ –æ–±—ã—á–Ω–æ –∫–æ—Ä–æ—á–µ, —á–µ–º –≤ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö GC.

G1 Garbage Collector –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–æ–º –∫—É—á–∏, –≥–¥–µ –≤–∞–∂–Ω—ã –∫–∞–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ç–∞–∫ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –≤—Ä–µ–º—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏. –û–Ω –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ –ø—Ä–∏–º–µ—Ä—É –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

### Z Garbage Collector (ZGC) –∏ Shenandoah

Z Garbage Collector (ZGC) –∏ Shenandoah –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ Stop-The-World (STW) –ø–∞—É–∑, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Ç —Ö–µ–≤–æ–º –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–µ.

#### ZGC

ZGC —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∫—É—á—É –Ω–∞ –Ω–∞–±–æ—Ä –º–µ–ª–∫–∏—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –º—É—Å–æ—Ä –≤ –∫–∞–∂–¥–æ–º —Ä–µ–≥–∏–æ–Ω–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, —á—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –≤—Ä–µ–º—è STW –ø–∞—É–∑. ZGC –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π —Ñ–∞–∑—ã –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å —Ä–∞–±–æ—Ç–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è –∑–∞–¥–µ—Ä–∂–∫–∏.

–û–¥–Ω–æ–π –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π ZGC —è–≤–ª—è–µ—Ç—Å—è –µ–≥–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π —Ä–µ–ª–æ–∫–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö STW –ø–∞—É–∑–∞—Ö.

ZGC —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–µ–π –ø–∞–º—è—Ç–∏, —Ä–µ–≥—É–ª—è—Ä–Ω–æ —É–ø–ª–æ—Ç–Ω—è—è –∫—É—á—É –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. ZGC –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–≤–µ—Ç–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±–∞—Ä—å–µ—Ä—ã —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞.

#### Shenandoah

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ ZGC, Shenandoah –≤—ã–ø–æ–ª–Ω—è–µ—Ç –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø–æ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–µ –∏ –∫–æ–º–ø–∞–∫—Ç–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ, —Ç–æ –µ—Å—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

Shenandoah —Å—Ç—Ä–µ–º–∏—Ç—Å—è –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å STW –ø–∞—É–∑—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–¥–∞—á —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞. Shenandoah –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞—Ä—å–µ—Ä—ã –Ω–∞ –ø—É—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç–∞–º –∏ –∏—Ö –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞.

–ö–∞–∫ –∏ ZGC, Shenandoah –∞–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–µ–π –≤ –∫—É—á–µ, —Ä–µ–≥—É–ª—è—Ä–Ω–æ —É–ø–ª–æ—Ç–Ω—è—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.

–û–±–∞ GC —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω—ã –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–∏–∑–∫–∏—Ö –∑–∞–¥–µ—Ä–∂–µ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Å –±–æ–ª—å—à–æ–π –∫—É—á–µ–π.

–ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª –Ω–µ–±–æ–ª—å—à—É—é –æ–±–∑–æ—Ä–Ω—É—é —Ç–∞–±–ª–∏—á–∫—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–±–æ—Ä—â–∏–∫–æ–≤:

|–°–±–æ—Ä—â–∏–∫ –ú—É—Å–æ—Ä–∞|–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞|–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏|–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è|
|---|---|---|---|
|Serial GC|–ü—Ä–æ—Å—Ç–æ—Ç–∞, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–∞–ª—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π|–ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö|–ú–∞–ª—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã|
|Parallel GC|–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å|–î–ª–∏–Ω–Ω—ã–µ –ø–∞—É–∑—ã GC|–°–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã|
|CMS|–ù–∏–∑–∫–∏–µ –ø–∞—É–∑—ã GC|–í–æ–∑–º–æ–∂–Ω–∞—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–∞–º—è—Ç–∏, —Å–ª–æ–∂–Ω–æ—Å—Ç—å|–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è|
|G1 GC|–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –∑–∞–¥–µ—Ä–∂–∫–æ–π, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å|–ú–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏|–ë–æ–ª—å—à–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è|
|ZGC/Shenandoah|–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—É–∑—ã|–ù–æ–≤–∏–∑–Ω–∞, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏|–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ —É–ª—å—Ç—Ä–∞–Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–µ|

## –¢—é–Ω–∏–Ω–≥ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

JVM –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GC, –≤–∫–ª—é—á–∞—è —Ä–∞–∑–º–µ—Ä—ã –Ω–∞—á–∞–ª—å–Ω–æ–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∫—É—á–∏ (`-Xms`¬†–∏¬†`-Xmx`), —Ä–∞–∑–º–µ—Ä—ã –ø–æ–∫–æ–ª–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`-XX:NewSize`), –∞ —Ç–∞–∫–∂–µ –≤—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`-XX:+UseG1GC`¬†–¥–ª—è G1 GC).

–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ GC –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, —É–≤–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫—É—á–∏ –º–æ–∂–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞, –Ω–æ —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–π STW –ø–∞—É–∑—ã.

[–§–ª–∞–≥–∏ JVM](https://www.baeldung.com/jvm-tuning-flags)¬†–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è GC, —Ç–∞–∫–∏–µ –∫–∞–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–∫–æ–ª–µ–Ω–∏–π –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞.

JVM –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∫–ª—é—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π GC, —á—Ç–æ –¥–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞, –∞ —Ç–∞–∫–∂–µ –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏. –°—É—â–µ—Å—Ç–≤—É—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç—ã GC –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, —Ç–∞–∫–∏–µ –∫–∞–∫¬†[VisualVM](https://visualvm.github.io/),¬†[JConsole](https://docs.oracle.com/javase/8/docs/technotes/guides/management/jconsole.html)¬†–∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö IDE. –≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ GC.

–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ª–æ–≥–æ–≤ –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç—å—é, –∏ –¥–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –æ —Ç–æ–º, –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GC –≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ GC

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ GC, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞–º—è—Ç–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ JVM –∏ –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç—ã —Å–±–æ—Ä—â–∏–∫–æ–≤ –º—É—Å–æ—Ä–∞:

1. `-Xms<size>`¬†–∏¬†`-Xmx<size>`:
    
    - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –Ω–∞—á–∞–ª—å–Ω—ã–π (`-Xms`) –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π (`-Xmx`) —Ä–∞–∑–º–µ—Ä –∫—É—á–∏.
        
    - –ù–∞–ø—Ä–∏–º–µ—Ä,¬†`-Xms512m -Xmx4g`¬†—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫—É—á–∏ –≤ 512 –º–µ–≥–∞–±–∞–π—Ç –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤ 4 –≥–∏–≥–∞–±–∞–π—Ç–∞.
        
2. `-XX:NewRatio=<ratio>`:
    
    - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É —Å—Ç–∞—Ä—ã–º –∏ –º–æ–ª–æ–¥—ã–º –ø–æ–∫–æ–ª–µ–Ω–∏–µ–º –≤ –∫—É—á–µ.
        
    - –ù–∞–ø—Ä–∏–º–µ—Ä,¬†`-XX:NewRatio=2`¬†–æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å—Ç–∞—Ä–æ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç –≤ –¥–≤–∞ —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –º–æ–ª–æ–¥–æ–≥–æ.
        
3. `-XX:SurvivorRatio=<ratio>`:
    
    - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–∞–∂–¥–æ–π –∏–∑ Survivor –æ–±–ª–∞—Å—Ç–µ–π –∏ Eden –æ–±–ª–∞—Å—Ç—å—é –≤ –º–æ–ª–æ–¥–æ–º –ø–æ–∫–æ–ª–µ–Ω–∏–∏.
        
    - –ù–∞–ø—Ä–∏–º–µ—Ä,¬†`-XX:SurvivorRatio=8`¬†–æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Eden –±—É–¥–µ—Ç –≤ 8 —Ä–∞–∑ –±–æ–ª—å—à–µ –∫–∞–∂–¥–æ–π –∏–∑ Survivor –æ–±–ª–∞—Å—Ç–µ–π.
        
4. `-XX:MaxTenuringThreshold=<value>`:
    
    - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏–∫–ª–æ–≤ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä—ã—Ö –æ–±—ä–µ–∫—Ç –∏–∑ –º–æ–ª–æ–¥–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤ —Å—Ç–∞—Ä–æ–µ.
        
    - –ë–æ–ª–µ–µ –Ω–∏–∑–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Å—Ç–∞—Ä–æ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ.
        
5. `-XX:+Use<Collector>`:
    
    - –£–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä,¬†`-XX:+UseG1GC`,¬†`-XX:+UseParallelGC`,¬†`-XX:+UseConcMarkSweepGC`.
        

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Å–±–æ—Ä—â–∏–∫–æ–≤ –º—É—Å–æ—Ä–∞

1. **Parallel GC:**
    
    - `-XX:ParallelGCThreads=<n>`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ –≤ Parallel GC.
        
2. **CMS (Concurrent Mark-Sweep):**
    
    - `-XX:CMSInitiatingOccupancyFraction=<percent>`: –£–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∫—É—á–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—á–Ω–µ—Ç—Å—è CMS cycle.
        
    - `-XX:+UseCMSInitiatingOccupancyOnly`: –£–∫–∞–∑—ã–≤–∞–µ—Ç JVM –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç –¥–ª—è –Ω–∞—á–∞–ª–∞ CMS cycle.
        
3. **G1 GC:**
    
    - `-XX:MaxGCPauseMillis=<milliseconds>`: –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–∞—É–∑—ã GC.
        
    - `-XX:G1HeapRegionSize=<size>`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Ä–µ–≥–∏–æ–Ω–∞ –≤ G1 GC.
        
4. **ZGC:**
    
    - `-XX:ConcGCThreads=<n>`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ ZGC.
        
5. **Shenandoah:**
    
    - `-XX:ShenandoahGCHeuristics=<heuristic>`: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —ç–≤—Ä–∏—Å—Ç–∏–∫—É, –∫–æ—Ç–æ—Ä—É—é Shenandoah –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
        

–î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è GCC –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –≤–∫–ª—é—á–∞—è VisualVM, JConsole –∏ –ª–æ–≥–∏ GC:

### VisualVM

VisualVM ‚Äì —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

VisualVM –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU, –ø–∞–º—è—Ç–∏ –∏ –ø–æ—Ç–æ–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫—É—á–∏ (heap) –∏ —Å–æ–±—ã—Ç–∏—è—Ö —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞, –≤–∫–ª—é—á–∞—è –≤—Ä–µ–º—è –ø–∞—É–∑ –∏ —á–∞—Å—Ç–æ—Ç—É GC.

–ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å "—É–∑–∫–∏–µ –º–µ—Å—Ç–∞" –≤ –∫–æ–¥–µ, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ—Ç–æ–∫–æ–≤.

### JConsole

JConsole ‚Äì —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Java Monitoring and Management Console, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ Java.

–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏, –∑–∞–≥—Ä—É–∑–∫—É CPU –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ—Ç–æ–∫–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π –ø–∞–º—è—Ç–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏—è —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Java-—Å—Ä–µ–¥–µ, –≤–∫–ª—é—á–∞—è –≤–µ—Ä—Å–∏—é, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

–ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ JMX (Java Management Extensions) –∞–≥–µ–Ω—Ç—É –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Ä–∞–±–æ—Ç–µ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### GC Logs

–õ–æ–≥–∏ GC ‚Äì —ç—Ç–æ —Ñ–∞–π–ª—ã –∂—É—Ä–Ω–∞–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ –≤ JVM.

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞, –∞ —Ç–∞–∫–∂–µ –æ —Ç–æ–º, –∫–∞–∫–∏–µ –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏ –±—ã–ª–∏ –æ—á–∏—â–µ–Ω—ã. –ü–æ–º–æ–≥–∞—é—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –∏ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏.

–ü–æ–∑–≤–æ–ª—è—é—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å GC –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

–í–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è GC –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ñ–ª–∞–≥–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ JVM, –Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`-Xlog:gc`,¬†`-Xlog:gc*`¬†–¥–ª—è Java 9+ –∏–ª–∏¬†`-XX:+PrintGCDetails`¬†–¥–ª—è —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π.

–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏, –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç—å—é, —è–≤–ª—è—é—Ç—Å—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–º–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏:

### –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏

–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é, –ø–æ –∫–∞–∫–∏–º-—Ç–æ –ø—Ä–∏—á–∏–Ω–∞–º –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è Garbage Collector'–æ–º (GC), –ø—Ä–æ–¥–æ–ª–∂–∞—è –∑–∞–Ω–∏–º–∞—Ç—å –ø–∞–º—è—Ç—å.

### –ü—Ä–∏—á–∏–Ω—ã:

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏:**¬†–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ –∑–∞–∫—Ä—ã—Ç—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏–ª–∏ –ø–æ—Ç–æ–∫–∏.

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏:**¬†–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Å–æ—Ö—Ä–∞–Ω—è—é—â–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã.

**–õ–∏—Å—Ç–µ–Ω–µ—Ä—ã –∏ –∫–æ–ª–ª–±–µ–∫–∏:**¬†–û–±—ä–µ–∫—Ç—ã, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–ª—É—à–∞—Ç–µ–ª–µ–π –∏–ª–∏ –∫–æ–ª–ª–±–µ–∫–æ–≤, –∏ –Ω–µ –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.

### –†–µ—à–µ–Ω–∏—è:

- **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:**¬†–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ VisualVM –∏–ª–∏ JProfiler, –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–Ω–∏–º–∞—é—Ç –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –∏ –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è.
    
- **–ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞:**¬†–ü–æ–∏—Å–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª—è—Ö –∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö.
    
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Weak References:**¬†–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–∞–±—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã GC.
    
- **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏:**¬†–ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –ø–æ—Ç–æ–∫–∏) –≤ –±–ª–æ–∫–∞—Ö¬†`finally`¬†–∏–ª–∏ —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π¬†[try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).
    

### –ó–∞–¥–µ—Ä–∂–∫–∏

–ó–∞–¥–µ—Ä–∂–∫–∏, —á–∞—Å—Ç–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ GC, –≤–ª–∏—è—é—Ç –Ω–∞ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ü—Ä–∏—á–∏–Ω—ã:

1. **–ß—Ä–µ–∑–º–µ—Ä–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å GC:**¬†–í—ã–∑–≤–∞–Ω–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –æ–±—ä–µ–º–æ–º –ø–∞–º—è—Ç–∏ –∏–ª–∏ —á–∞—Å—Ç—ã–º —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤.
    
2. **–ù–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤—ã–±–æ—Ä GC:**¬†–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GC, –Ω–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    

### –†–µ—à–µ–Ω–∏—è:

- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∫—É—á–∏:**¬†–£–≤–µ–ª–∏—á–µ–Ω–∏–µ¬†`-Xmx`¬†–∏¬†`-Xms`¬†–¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –±–æ–ª—å—à–µ–≥–æ –æ–±—ä–µ–º–∞ –ø–∞–º—è—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.
    
- **–í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ GC:**¬†–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–±–æ—Ä—â–∏–∫–∞–º–∏ –º—É—Å–æ—Ä–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ.
    
- **–¢—é–Ω–∏–Ω–≥ GC:**¬†–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ GC, –Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`-XX:NewSize`,¬†`-XX:MaxNewSize`,¬†`-XX:SurvivorRatio`.
    

## –ù–µ–º–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GC

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞ –≤ Java Virtual Machine (JVM) –æ–±—ã—á–Ω–æ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ JVM. –û–¥–Ω–∞–∫–æ, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä—ã, –≥–¥–µ –ø—Ä–æ–≤–µ–¥–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É gc —á–µ—Ä–µ–∑ –∫–æ–¥:

#### –ü—Ä–∏–º–µ—Ä 1

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å GC –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≥–¥–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏.

**–ö–æ–¥:**

```
java -XX:+UseG1GC -Xms4G -Xmx4G -XX:MaxGCPauseMillis=200 -jar my-web-app.jar
```

- `-XX:+UseG1GC`: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ G1 GC, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–æ–º –ø–∞–º—è—Ç–∏ –∏ —Ç—Ä–µ–±—É—é—â–∏—Ö –Ω–∏–∑–∫–∏—Ö –ø–∞—É–∑ GC.
    
- `-Xms4G`¬†–∏¬†`-Xmx4G`: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∫—É—á–∏ –≤ 4 –ì–ë.
    
- `-XX:MaxGCPauseMillis=200`: –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–∞—É–∑—ã GC –≤ 200 –º—Å.
    

#### –ü—Ä–∏–º–µ—Ä 2

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å GC –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –≤–∞–∂–Ω–∞ –æ–±—â–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏.

**–ö–æ–¥:**

```
java -XX:+UseParallelGC -Xms8G -Xmx8G -XX:ParallelGCThreads=8 -jar my-data-processing-app.jar
```

- `-XX:+UseParallelGC`: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Parallel GC, –∫–æ—Ç–æ—Ä—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.
    
- `-Xms8G`¬†–∏¬†`-Xmx8G`: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∫—É—á–∏ –≤ 8 –ì–ë.
    
- `-XX:ParallelGCThreads=8`: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è Parallel GC, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.
    

#### –ü—Ä–∏–º–µ—Ä 3

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å GC –¥–ª—è –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, —Ç—Ä–µ–±—É—é—â–µ–≥–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø–∞—É–∑ GC –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã.

**–ö–æ–¥:**

```
java -XX:+UseConcMarkSweepGC -Xms512M -Xmx512M -jar my-desktop-app.jar
```

- `-XX:+UseConcMarkSweepGC`: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CMS GC, –∫–æ—Ç–æ—Ä—ã–π –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –≤—Ä–µ–º—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    
- `-Xms512M`¬†–∏¬†`-Xmx512M`: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∫—É—á–∏ –≤ 512 –ú–ë, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –º–Ω–æ–≥–∏—Ö –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
    

#### –ü—Ä–∏–º–µ—Ä 4

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å GC –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–µ–≥–æ –≤—ã—Å–æ–∫–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ —Ç—Ä–µ–±—É—é—â–µ–≥–æ –±–æ–ª—å—à–æ–≥–æ –æ–±—ä–µ–º–∞ –ø–∞–º—è—Ç–∏ –∏ –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.

**–ö–æ–¥:**

```
java -XX:+UseG1GC -Xms16G -Xmx16G -XX:ConcGCThreads=10 -jar my-high-load-server-app.jar
```

- `-XX:+UseG1GC`: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ G1 GC, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–æ–º –ø–∞–º—è—Ç–∏.
    
- `-Xms16G–∏-Xmx16G`: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∫—É—á–∏ –≤ 16 –ì–ë.
    
- `-XX:ConcGCThreads=10`: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞.
    

#### –ü—Ä–∏–º–µ—Ä 5

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å GC –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–µ.

**–ö–æ–¥:**

```
java -XX:+UseZGC -Xms4G -Xmx4G -jar my-low-latency-app.jar
```

- `-XX:+UseZGC`: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Z Garbage Collector, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–∏—Å—Ç–µ–º —Å —É–ª—å—Ç—Ä–∞–Ω–∏–∑–∫–∏–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏.
    
- `-Xms4G`¬†–∏¬†`-Xmx4G`: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∫—É—á–∏ –≤ 4 –ì–ë –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ø–∞—É–∑–∞–º–∏.
    

–í –∑–∞–∫–ª—é—á–µ–Ω–∏–µ, –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ GC –≤ JVM –º–æ–∂–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Å–Ω–∏–∑–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –∏ —É–ª—É—á—à–∏—Ç—å –æ–±—â–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏. –í –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ, —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–æ–∑–¥–∞–Ω–∏—é –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã—Ö, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –∏ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Å–ø–æ—Å–æ–±–Ω—ã—Ö —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å —Å–∞–º—ã–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —É—Å–ª–æ–≤–∏—è —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏.

## Garbage Collector

–°–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ Garbage Collector –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ–≥–æ –¥–≤–µ –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–æ–∏—Å–∫–æ–º –º—É—Å–æ—Ä–∞ –∏ –µ–≥–æ –æ—á–∏—Å—Ç–∫–æ–π. –î–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –º—É—Å–æ—Ä–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ –ø–æ–¥—Ö–æ–¥–∞ :

- Reference counting ‚Äì —É—á–µ—Ç —Å—Å—ã–ª–æ–∫;
- Tracing ‚Äì —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞.

https://java-online.ru/garbage-collection.xhtml
#### Reference counting

–°—É—Ç—å –ø–æ–¥—Ö–æ–¥–∞ ¬´Reference counting¬ª —Å–≤—è–∑–∞–Ω–∞ —Å —Ç–µ–º, —á—Ç–æ –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç —Å—á–µ—Ç—á–∏–∫, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —É–∫–∞–∑—ã–≤–∞—é—â–∏—Ö –Ω–∞ –Ω–µ–≥–æ —Å—Å—ã–ª–æ–∫. –ü—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ —Å—Å—ã–ª–∫–∏ —Å—á–µ—Ç—á–∏–∫ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è. –ü—Ä–∏ –Ω—É–ª–µ–≤–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ —Å—á–µ—Ç—á–∏–∫–∞ –æ–±—ä–µ–∫—Ç –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –º—É—Å–æ—Ä–æ–º.

–ì–ª–∞–≤–Ω—ã–º –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ —è–≤–ª—è–µ—Ç—Å—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—á–µ—Ç—á–∏–∫–∞ –∏ ¬´–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å¬ª –≤—ã—è–≤–ª—è—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –¢–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –º–æ–≥—É—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞, –Ω–æ –Ω–∏ –Ω–∞ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö –Ω–µ—Ç –≤–Ω–µ—à–Ω–µ–π —Å—Å—ã–ª–∫–∏. –≠—Ç–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è —É—Ç–µ—á–∫–∞–º–∏ –ø–∞–º—è—Ç–∏. –í —ç—Ç–æ–π —Å–≤—è–∑–∏ –¥–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –Ω–µ –ø–æ–ª—É—á–∏–ª —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è.

#### Tracing

–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è ¬´Tracing¬ª —Å–≤—è–∑–∞–Ω–∞ —Å —Ç–µ–º, —á—Ç–æ –¥–æ ¬´–∂–∏–≤–æ–≥–æ¬ª –æ–±—ä–µ–∫—Ç–∞ –º–æ–∂–Ω–æ –¥–æ–±—Ä–∞—Ç—å—Å—è –∏–∑ –∫–æ—Ä–Ω–µ–≤—ã—Ö —Ç–æ—á–µ–∫ (GC Root). –í—Å—ë, —á—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ –∏–∑ ¬´–∂–∏–≤–æ–≥–æ¬ª –æ–±—ä–µ–∫—Ç–∞, —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è ¬´–∂–∏–≤—ã–º¬ª. –ï—Å–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏ —Å—Å—ã–ª–∫–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ –∫–∞–∫ –¥–µ—Ä–µ–≤–æ, —Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–π—Ç–∏ –æ—Ç –∫–æ—Ä–Ω–µ–≤—ã—Ö —É–∑–ª–æ–≤ GC Roots –ø–æ –≤—Å–µ–º —É–∑–ª–∞–º. –ü—Ä–∏ —ç—Ç–æ–º —É–∑–ª—ã, –¥–æ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–ª—å–∑—è –¥–æ–±—Ä–∞—Ç—å—Å—è, —è–≤–ª—è—é—Ç—Å—è –º—É—Å–æ—Ä–æ–º.

![](https://java-online.ru/images/basic/garbage-collection1.png)

–î–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –≤—ã—è–≤–ª–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ HotSpot VM. –¢–µ–ø–µ—Ä—å, –æ—Å—Ç–∞–ª–æ—Å—å –ø–æ–Ω—è—Ç—å, –∞ —á—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è –∫–æ—Ä–Ω–µ–≤–∞—è —Ç–æ—á–∫–∞ (GC Root)? ¬´–ò—Å—Ç–æ—á–Ω–∏–∫–∏¬ª –≥–æ–≤–æ—Ä—è—Ç, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã –∫–æ—Ä–Ω–µ–≤—ã—Ö —Ç–æ—á–µ–∫ :

- –û—Å–Ω–æ–≤–Ω–æ–π Java –ø–æ—Ç–æ–∫.
- –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–µ—Ç–æ–¥–µ.
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø—Ä–æ—Å—Ç–æ–µ java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ—Ä–Ω–µ–≤—ã–µ —Ç–æ—á–∫–∏:

- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã main –º–µ—Ç–æ–¥–∞ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ main –º–µ—Ç–æ–¥–∞.
- –ü–æ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç main.
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è main –º–µ—Ç–æ–¥.
### –û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏

–ò–º–µ–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –æ—á–∏—Å—Ç–∫–µ –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –ø—Ä–∏–Ω—Ü–∏–ø —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è Garbage Collection.

#### Copying collectors

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ ¬´Copying collectors¬ª –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏ : –≤ –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –æ–±—ä–µ–∫—Ç—ã, –∞ –≤—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å –æ—Å—Ç–∞–µ—Ç—Å—è —á–∏—Å—Ç–æ–π. –ù–∞ –≤—Ä–µ–º—è –æ—á–∏—Å—Ç–∫–∏ –º—É—Å–æ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç –≤ –ø–µ—Ä–≤–æ–π –æ–±–ª–∞—Å—Ç–∏ –æ–±—ä–µ–∫—Ç—ã —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –∏—Ö –≤–æ –≤—Ç–æ—Ä—É—é (—á–∏—Å—Ç—É—é) –æ–±–ª–∞—Å—Ç—å. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, –ø–µ—Ä–≤–∞—è –æ–±–ª–∞—Å—Ç—å –æ—á–∏—â–∞–µ—Ç—Å—è –æ—Ç –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Ç–∞–º –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ —Å—Å—ã–ª–æ–∫, –∏ –æ–±–ª–∞—Å—Ç–∏ –º–µ–Ω—è—é—Ç—Å—è –º–µ—Å—Ç–∞–º–∏.

–ì–ª–∞–≤–Ω—ã–º –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–æ–º –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ —è–≤–ª—è–µ—Ç—Å—è –ø–ª–æ—Ç–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏. –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º ¬´Copying collectors¬ª —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Ä–∞–∑–º–µ—Ä—ã –¥–≤—É—Ö —á–∞—Å—Ç–µ–π –ø–∞–º—è—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –Ω–∞ —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è ¬´–∂–∏–≤—ã–º–∏¬ª.

–î–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –≤ —á–∏—Å—Ç–æ–º –≤–∏–¥–µ –≤ HotSpot VM –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

#### Mark-and-sweep

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ ¬´mark-and-sweep¬ª –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º —Å–µ–≥–º–µ–Ω—Ç–µ –ø–∞–º—è—Ç–∏. –°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ —Ç–∞–∫–∂–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏ Garbage Collection –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –¥–µ—Ä–µ–≤—É –æ–±—ä–µ–∫—Ç–æ–≤, –ø–æ–º–µ—á–∞—è –∑–∞–Ω—è—Ç—ã–µ –∏–º–∏ –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏, –∫–∞–∫ ¬´–∂–∏–≤—ã–µ¬ª. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, –≤—Å–µ –Ω–µ –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ –ø–∞–º—è—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ ¬´free list¬ª, –≤ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥—É—Ç, –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞, —Ä–∞–∑–º–µ—â–∞—Ç—å—Å—è –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã.

–ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∞–º –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ —Å–ª–µ–¥—É–µ—Ç –æ—Ç–Ω–µ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ, –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞, –∫–∞–∫ –∏ –≤—Ä–µ–º—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–∞–º—è—Ç–∏. –ü–∞–º—è—Ç—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è ¬´—Ä–µ—à–µ—Ç—á–∞—Ç–æ–π¬ª, –∏, –µ—Å–ª–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å ¬´—É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ¬ª, —Ç–æ –ø–∞–º—è—Ç—å –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.

–î–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Ç–∞–∫–∂–µ –≤ —á–∏—Å—Ç–æ–º –≤–∏–¥–µ –≤ HotSpot VM –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

#### Generational Garbage Collection

JVM HotSpot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ —Ç–∏–ø–∞ ¬´Generational Garbage Collection¬ª, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ä–∞–∑–Ω—ã–µ –º–æ–¥—É–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞. –í—Å–µ–≥–æ –≤ HotSpot —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ç—ã—Ä–µ —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞ :

- Serial Garbage Collection
- Parallel Garbage Collection
- CMS Garbage Collection
- G1 Garbage Collection

**Serial Garbage Collection**¬†–æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –æ–¥–Ω–∏–º –∏–∑ –ø–µ—Ä–≤—ã—Ö —Å–±–æ—Ä—â–∏–∫–æ–≤ –º—É—Å–æ—Ä–∞ –≤ HotSpot VM. –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —ç—Ç–æ–≥–æ —Å–±–æ—Ä—â–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–∞–±–æ—Ç—É —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞. –í¬†_Serial Garbage Collection_¬†–æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏ (¬´young generation¬ª –∏ ¬´old generation¬ª), –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–≤–∞ —Ç–∏–ø–∞ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ :

- minor GC ‚Äì —á–∞—Å—Ç—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π c –æ–±–ª–∞—Å—Ç—å—é –ø–∞–º—è—Ç–∏ ¬´young generation¬ª;
- mark-sweep-compact ‚Äì —Ä–µ–¥–∫–∏–π –∏ –±–æ–ª–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–π c –æ–±–ª–∞—Å—Ç—å—é –ø–∞–º—è—Ç–∏ ¬´old generation¬ª.

–û–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ ¬´young generation¬ª, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —Ä–∏—Å—É–Ω–∫–µ, —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏, –æ–¥–Ω–∞ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö Survior —Ç–∞–∫–∂–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ 2 —á–∞—Å—Ç–∏ (From, To).

![](https://java-online.ru/images/basic/garbage-collection2.png)

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã minor GC

–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã¬†_minor GC_¬†–æ—á–µ–Ω—å –ø–æ—Ö–æ–∂ –Ω–∞ –æ–ø–∏—Å–∞–Ω–Ω—ã–π –≤—ã—à–µ ¬´Copying collectors¬ª. –û—Ç–ª–∏—á–∏–µ —Å–≤—è–∑–∞–Ω–æ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏ ¬´Eden¬ª. –û—á–∏—Å—Ç–∫–∞ –º—É—Å–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ :

- –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –Ω–∞—á–∞–ª–æ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞;
- ¬´–∂–∏–≤—ã–µ¬ª –æ–±—ä–µ–∫—Ç—ã –∏–∑ Eden –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ ¬´To¬ª;
- ¬´–∂–∏–≤—ã–µ¬ª –æ–±—ä–µ–∫—Ç—ã –∏–∑ ¬´From¬ª –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ ¬´To¬ª –∏–ª–∏ –≤ ¬´old generation¬ª, –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ¬´—Å—Ç–∞—Ä—ã–µ¬ª;
- Eden –∏ ¬´From¬ª –æ—á–∏—â–∞—é—Ç—Å—è –æ—Ç –º—É—Å–æ—Ä–∞;
- ¬´To¬ª –∏ ¬´From¬ª –º–µ–Ω—è—é—Ç—Å—è –º–µ—Å—Ç–∞–º–∏;
- –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–∞–±–æ—Ç—É.

![](https://java-online.ru/images/basic/garbage-collection3.png)

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç—Å—è –∏ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º :

![](https://java-online.ru/images/basic/garbage-collection4.png)

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä–µ–∫—Ç—ã, –ø–µ—Ä–µ–∂–∏–≤—à–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–±–æ—Ä–æ–∫ –º—É—Å–æ—Ä–∞ –≤ –æ–±–ª–∞—Å—Ç–∏ From, –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –≤ ¬´old generation¬ª. –°–ª–µ–¥—É–µ—Ç, —Ç–∞–∫–∂–µ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∏ ¬´–±–æ–ª—å—à–∏–µ –∂–∏–≤—ã–µ¬ª –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç —Ç–∞–∫–∂–µ —Å—Ä–∞–∑—É –∂–µ –ø–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –∏–∑ –æ–±–ª–∞—Å—Ç–∏ Eden –≤ ¬´old generation¬ª (–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –Ω–µ –ø–æ–∫–∞–∑–∞–Ω—ã).

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã mark-sweep-compact

–ê–ª–≥–æ—Ä–∏—Ç–º ¬´mark-sweep-compact¬ª —Å–≤—è–∑—è–∞–Ω —Å –æ—á–∏—Å—Ç–∫–æ–π –∏ —É–ø–ª–æ—Ç–Ω–µ–Ω–∏–µ–º –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏ ¬´old generation¬ª.

![](https://java-online.ru/images/basic/garbage-collection5.png)

–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã ¬´mark-sweep-compact¬ª –ø–æ—Ö–æ–∂ –Ω–∞ –æ–ø–∏—Å–∞–Ω–Ω—ã–π –≤—ã—à–µ ¬´Mark-and-sweep¬ª, –Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ ¬´—É–ø–ª–æ—Ç–Ω–µ–Ω–∏—è¬ª, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å. –í –ø—Ä–æ—Ü–µ–¥—É—Ä–µ –∂–∏–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ –Ω–∞—á–∞–ª–æ. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—É—Å–æ—Ä –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ –ø–∞–º—è—Ç–∏.

_–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –æ–±–ª–∞—Å—Ç—å—é –ø–∞–º—è—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ö–∞–Ω–∏–∑–º ¬´bump-the-pointer¬ª, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–∞—á–∞–ª–æ —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–∞–º—è—Ç–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç, –ø–æ—Å–ª–µ —á–µ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—å —Å–º–µ—â–∞–µ—Ç—Å—è. –í –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ö–∞–Ω–∏–∑–º TLAB (Thread-Local Allocation Buffers), –∫–æ—Ç–æ—Ä—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –≤—ã–¥–µ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏._