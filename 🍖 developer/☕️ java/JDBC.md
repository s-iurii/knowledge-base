[[üåª ORM]]

MyBatis

Hibernate

[Hibernate and Java Persistence API (JPA) Fundamentals](https://www.oreilly.com/library/view/hibernate-and-java/9781771373494/)

[https://github.com/97rajeev/All/blob/master/Java Persistence with Hibernate%2C 2nd Edition by rajeev.pdf](https://github.com/97rajeev/All/blob/master/Java%20Persistence%20with%20Hibernate%2C%202nd%20Edition%20by%20rajeev.pdf)

–∞—Å–æ—Ü–∏–∞—Ü–∏–∏

[Hibernate ORM 5.0 User Guide](https://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#associations-many-to-one)

–ø–∞–≥–∏–Ω–∞—Ü–∏—è

[Hibernate Pagination | Baeldung](https://www.baeldung.com/hibernate-pagination)

–ø–∞–≥–∏–Ω–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ —Å –æ—Ç–±–æ—Ä–æ–º

—Å—Ç—Ä–∞–Ω–∏—Ü–∞ 464 java Persistens API

[Hibernate cache](Hibernate%20cache%2006bc9c2014c440e0a85e03c497aad48e.md)

[Spring JPA](Spring%20JPA%201163ccffce7145a2b94415ac52b56fd2.md)

**24.15. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã**

```jsx
spring.jpa.hibernate.ddl-auto
hibernate.hbm2ddl.auto

create, create-drop, validate, update
```

[Hibernate ORM 5.4.30.Final User Guide](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl)

[migrations](migrations%20a0e04c39c7c442a5a3cd7525eb3d9e1a.md)


# –û—Å–Ω–æ–≤–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤ ORM (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ JPA/Hibernate):

1. **`@Entity`**:
    
    - –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ç–∞–±–ª–∏—Ü—É –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
    
2. **`@Table`**:
    
    - –£–∫–∞–∑—ã–≤–∞–µ—Ç –∏–º—è —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –∫ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏–≤—è–∑–∞–Ω —ç—Ç–æ—Ç –∫–ª–∞—Å—Å.
    
3. **`@Id`**:
    
    - –ü–æ–º–µ—á–∞–µ—Ç –ø–æ–ª–µ –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á.
4. **`@GeneratedValue`**:
    
    - –£–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç.
5. **`@OneToMany`, `@ManyToOne`, `@OneToOne`, `@ManyToMany`**:
    
    - –≠—Ç–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.


# **Session**

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `Session` –≤ Hibernate?

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏**:
    
    - `Session` —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ **`SessionFactory`**, –∫–æ—Ç–æ—Ä–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–π. –ö–∞–∂–¥–∞—è —Å–µ—Å—Å–∏—è ‚Äî —ç—Ç–æ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
2. **–û–ø–µ—Ä–∞—Ü–∏–∏ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏**:
    
    - –° –ø–æ–º–æ—â—å—é —Å–µ—Å—Å–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –æ–±—ä–µ–∫—Ç–∞–º–∏ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏ —Ç.–¥.).
    - –°–µ—Å—Å–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è, —á—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Ü–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
3. **–ó–∞–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏**:
    
    - –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Å—Å–∏–µ–π –µ—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–∫—Ä—ã—Ç—å, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã.

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `Session` –≤ Hibernate:

java

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥

`import org.hibernate.Session; import org.hibernate.Transaction;  public class HibernateExample {      public static void main(String[] args) {         // –ü–æ–ª—É—á–∞–µ–º —Ñ–∞–±—Ä–∏–∫—É —Å–µ—Å—Å–∏–π –∏–∑ —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞         SessionFactory sessionFactory = HibernateUtil.getSessionFactory();          // –û—Ç–∫—Ä—ã–≤–∞–µ–º –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é         Session session = sessionFactory.openSession();          // –ù–∞—á–∏–Ω–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é         Transaction transaction = session.beginTransaction();          // –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç (—Å—É—â–Ω–æ—Å—Ç—å)         User user = new User();         user.setUsername("john_doe");         user.setEmail("john.doe@example.com");          // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—ä–µ–∫—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö         session.save(user);          // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é         transaction.commit();          // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å–µ—Å—Å–∏—é         session.close();     } }`

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `Session`:

1. **`save()`**:
    
    - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –ø—Ä–∏—Å–≤–æ–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç—É.
    
    `session.save(user);`
    
2. **`get()`** –∏ **`load()`**:
    
    - –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ –µ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.
    - **`get()`** –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –∏–ª–∏ `null`, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω.
    - **`load()`** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç (–ª–µ–Ω–∏–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É), –∏ —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞.
    
    `User user = session.get(User.class, 1); // –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å User userProxy = session.load(User.class, 1); // –ü—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç, –∑–∞–ø—Ä–æ—Å –æ—Ç–ª–æ–∂–µ–Ω`
    
3. **`update()`**:
    
    - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (—Ç–æ –µ—Å—Ç—å —Ç–µ—Ö, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–µ –Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–µ–π).
    
    `session.update(user);`
    
4. **`merge()`**:
    
    - –ü–æ—Ö–æ–∂ –Ω–∞ `update()`, –Ω–æ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–π. –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç —É–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏, `merge()` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –∏–Ω–∞—á–µ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç.
    
    `session.merge(user);`
    
5. **`delete()`**:
    
    - –£–¥–∞–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
    
    `session.delete(user);`
    
6. **`createQuery()`**:
    
    - –°–æ–∑–¥–∞—ë—Ç –∑–∞–ø—Ä–æ—Å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ —è–∑—ã–∫–µ **HQL (Hibernate Query Language)** –∏–ª–∏ **JPQL (Java Persistence Query Language)**.
    
    java
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
    
    `List<User> users = session.createQuery("FROM User", User.class).list();`
    
7. **`beginTransaction()`** –∏ **`getTransaction()`**:
    
    - –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏. –û–±—ã—á–Ω–æ, –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Ç—ã –≤—ã–ø–æ–ª–Ω—è–µ—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –∑–∞—Ç–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—à—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —Å –ø–æ–º–æ—â—å—é `commit()`.
    
    java
    
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
    
    `Transaction transaction = session.beginTransaction(); session.save(user); transaction.commit();`
    

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `Session` (–ö—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è):

- **–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫—ç—à**: –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Å–µ—Å—Å–∏–∏, –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –µ—Å–ª–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏ –æ–±—ä–µ–∫—Ç –±—ã–ª –ø–æ–ª—É—á–µ–Ω –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ –∫ –Ω–µ–º—É Hibernate –Ω–µ –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –±–∞–∑–µ, –∞ –≤–µ—Ä–Ω—ë—Ç –æ–±—ä–µ–∫—Ç –∏–∑ –∫—ç—à–∞.
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
    - –ö—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏. –ö–∞–∫ —Ç–æ–ª—å–∫–æ —Å–µ—Å—Å–∏—è –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –∫—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è.
    - –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ–±—ä–µ–∫—Ç–∞ –∏ —Å–µ—Å—Å–∏–∏ –≤ Hibernate:

1. **Transient (–¢—Ä–∞–Ω–∑–∏–µ–Ω—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)**:
    
    - –û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ Java, –Ω–æ –µ—â—ë –Ω–µ —Å–≤—è–∑–∞–Ω —Å —Å–µ—Å—Å–∏–µ–π –∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
    
    `User user = new User(); // –û–±—ä–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç—Ä–∞–Ω–∑–∏–µ–Ω—Ç–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏`
    
2. **Persistent (–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)**:
    
    - –û–±—ä–µ–∫—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ –Ω–µ—ë. –û–Ω —Å–≤—è–∑–∞–Ω —Å —Å–µ—Å—Å–∏–µ–π –∏ –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
    
    `session.save(user); // –û–±—ä–µ–∫—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º`
    
3. **Detached (–û—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)**:
    
    - –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–µ—Å—Å–∏–∏ –æ–±—ä–µ–∫—Ç –±–æ–ª—å—à–µ –Ω–µ —Å–≤—è–∑–∞–Ω —Å —Å–µ—Å—Å–∏–µ–π, –Ω–æ –µ–≥–æ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏.
    
    `session.close(); // –û–±—ä–µ–∫—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã–º`
    
4. **Removed (–£–¥–∞–ª—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)**:
    
    - –û–±—ä–µ–∫—Ç –ø–æ–º–µ—á–µ–Ω –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è, –∏ –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ `delete()`.
    
    `session.delete(user); // –û–±—ä–µ–∫—Ç –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö`
    

### –ü—Ä–∏–º–µ—Ä —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –∏ —Å–µ—Å—Å–∏—è–º–∏:

`Session session = sessionFactory.openSession(); Transaction transaction = null;  try {     transaction = session.beginTransaction();          User user = new User();     user.setUsername("john_doe");     user.setEmail("john@example.com");          session.save(user); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—ä–µ–∫—Ç     transaction.commit(); // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é      } catch (Exception e) {     if (transaction != null) {         transaction.rollback(); // –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏     }     e.printStackTrace(); } finally {     session.close(); // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ–º —Å–µ—Å—Å–∏—é }`
